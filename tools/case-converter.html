<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Case Converter | MicroTools</title>
  <meta name="description" content="Convert text between upper, lower, title, and sentence case instantly with the MicroTools Case Converter. Runs locally for writers and editors who need quick formatting."/>
  <link rel="manifest" href="/manifest.webmanifest">
  <link rel="stylesheet" href="../assets/styles.css">
  <script src="/assets/site.js" defer></script>
</head>
<body>
  <header>
    <div class="nav">
      <a class="brand" href="/">
        <span>Micro</span>Tools
      </a>
      <div class="nav-links">
        <a href="/">Home</a>
        <a href="/tools/word-counter.html">Word Counter</a>
        <a href="/tools/password-generator.html">Password Generator</a>
        <a href="/tools/quote-generator.html">Quote Generator</a>
        <a href="/tools/case-converter.html">Case Converter</a>
        <a href="/tools/gradient-generator.html">Gradient Generator</a>
      </div>
    </div>
  </header>

  <main>
    <section class="tool-shell">
      <h1>Case Converter</h1>
      <label class="label" for="case-input">Paste or type text</label>
      <textarea id="case-input" rows="8" placeholder="Enter text to convert between cases..."></textarea>
      <div class="inline-controls" style="margin-top:12px;">
        <button data-action="lower">lowercase</button>
        <button data-action="upper">UPPERCASE</button>
        <button data-action="title">Title Case</button>
        <button data-action="sentence">Sentence case</button>
        <button data-action="slug">slug-case</button>
        <button id="clear">Clear</button>
      </div>
      <label class="label" for="case-output" style="margin-top:12px;">Converted text</label>
      <textarea id="case-output" rows="6" readonly></textarea>
      <div class="inline-controls" style="margin-top:12px;">
        <button id="case-copy" data-primary>Copy output</button>
      </div>
      <div class="inline-controls" style="margin-top:10px; flex-wrap:wrap;">
        <button class="ghost" id="pipe-word">Send to Word Counter</button>
        <button class="ghost" id="pipe-markdown">Send to Markdown Previewer</button>
        <button class="ghost" id="pipe-diff-a">Send to Text Diff (original)</button>
        <button class="ghost" id="pipe-diff-b">Send to Text Diff (modified)</button>
      </div>
    </section>

    <section class="section" aria-labelledby="cc-what">
      <h2 id="cc-what">What is this tool?</h2>
      <p>The MicroTools Case Converter rewrites your text into lowercase, uppercase, title case, or sentence case with a single click. It helps you keep copy consistent across headlines, captions, and UI labels without retyping. The goal is to remove tedious manual edits so you can focus on the message instead of formatting.</p>
      <p>Because the converter lives in the browser, it pairs well with any writing environment—CMS, docs, design tools, or chat platforms. It gives predictable, opinionated outputs that match common style guides for digital products and marketing content.</p>
      <h2>How to use this tool</h2>
      <p>Paste text into the first field, select the case you need, and the converted version appears in the output box immediately. Use lowercase for accessibility-friendly URLs, uppercase for labels, title case for headlines, and sentence case for long-form paragraphs. Copy the result straight into your document or CMS.</p>
      <p>If you are experimenting with tone, try multiple buttons in sequence to see how casing changes the feel of a headline. For multilingual content, run a quick check to ensure auto-capitalization from other apps did not creep in. Clearing the fields lets you start a new batch quickly.</p>
      <h2>Who should use it?</h2>
      <p>Writers tightening headings, product teams aligning button labels, editors enforcing style guides, and students formatting essays can all speed up their workflow. It is also handy for support teams who paste consistent responses across chats and tickets.</p>
      <p>Designers and UX writers can test how long strings appear in uppercase within tight layouts, while engineers can normalize incoming text before using it in mocks or data fixtures. Anyone tasked with maintaining consistency across multiple channels benefits from the one-click conversions.</p>
      <h2>Why use MicroTools for this?</h2>
      <p>MicroTools keeps the interface lean so you can focus on the text. There is nothing to install, no sign-up wall, and no ads inside the tool area. The conversions are opinionated but predictable, which makes the output easy to trust and reuse.</p>
      <p>The shared MicroTools design means you can jump between the case converter, word counter, and text diff checker without relearning controls. That reduces context switching, especially when polishing copy right before a deadline.</p>
      <h2>Privacy & performance</h2>
      <p>Conversion happens locally in your browser, so sensitive snippets never leave the page. The JavaScript is minimal and ships alongside the HTML, keeping load times short and Lighthouse performance strong even on mobile data.</p>
      <p>No network calls, trackers, or extra libraries are involved. You can safely paste NDA-bound text, switch casing, and close the tab knowing nothing was transmitted or stored.</p>
    </section>
  </main>

  <footer>
    MicroTools · Fast, privacy-first utilities for the web.
  </footer>

  <script>
    const input = document.getElementById('case-input');
    const output = document.getElementById('case-output');
    const clearBtn = document.getElementById('clear');
    const copyBtn = document.getElementById('case-copy');
    const buttons = Array.from(document.querySelectorAll('button[data-action]'));
    const pipeWord = document.getElementById('pipe-word');
    const pipeMarkdown = document.getElementById('pipe-markdown');
    const pipeDiffA = document.getElementById('pipe-diff-a');
    const pipeDiffB = document.getElementById('pipe-diff-b');

    const toTitle = (text) => text
      .toLowerCase()
      .split(/(\s+)/)
      .map((part) => part.trim() ? part[0].toUpperCase() + part.slice(1) : part)
      .join('');

    const toSentence = (text) => {
      const lower = text.toLowerCase();
      return lower.replace(/(^\s*[a-z])|([.!?]\s*[a-z])/g, (match) => match.toUpperCase());
    };

    const handleConvert = (action) => {
      const value = input.value;
      if (!value) {
        output.value = '';
        return;
      }
      if (action === 'lower') output.value = value.toLowerCase();
      if (action === 'upper') output.value = value.toUpperCase();
      if (action === 'title') output.value = toTitle(value);
      if (action === 'sentence') output.value = toSentence(value);
      if (action === 'slug') output.value = value.trim().toLowerCase().replace(/[^a-z0-9]+/g, '-').replace(/^-+|-+$/g, '');
    };

    buttons.forEach((btn) => {
      btn.addEventListener('click', () => handleConvert(btn.dataset.action));
    });

    clearBtn.addEventListener('click', () => {
      input.value = '';
      output.value = '';
      input.focus();
    });

    copyBtn.addEventListener('click', async () => {
      if (!output.value) return;
      try {
        await navigator.clipboard.writeText(output.value);
        if (window.microTools) window.microTools.showToast('Copied output', 'success');
      } catch (err) {
        if (window.microTools) window.microTools.showToast('Copy failed', 'error');
      }
    });

    const handoff = window.microTools;
    const getPipeValue = () => (output.value.trim() || input.value.trim());
    const pipe = (target, slot) => {
      const value = getPipeValue();
      if (!handoff || !value) return;
      handoff.handoffAndGo({ target, kind: 'text', value, slot });
    };

    pipeWord.addEventListener('click', () => pipe('/tools/word-counter.html'));
    pipeMarkdown.addEventListener('click', () => pipe('/tools/markdown-previewer.html'));
    pipeDiffA.addEventListener('click', () => pipe('/tools/text-diff-checker.html', 'diff-a'));
    pipeDiffB.addEventListener('click', () => pipe('/tools/text-diff-checker.html', 'diff-b'));

    const incoming = handoff ? handoff.consumeHandoff('text') : null;
    if (incoming && incoming.value) {
      input.value = incoming.value;
      handleConvert('lower');
    }
  </script>
</body>
</html>
