<!DOCTYPE html>
<html lang="en">
<head>
  <script src="https://pl28613409.effectivegatecpm.com/51/33/02/5133020b94dad7bafd96065840c47d76.js"></script>
  <script>
    atOptions = {
      'key' : 'e61a3745429623f25315f86052a3ab7b',
      'format' : 'iframe',
      'height' : 90,
      'width' : 728,
      'params' : {}
    };
  </script>
  <script src="https://www.highperformanceformat.com/e61a3745429623f25315f86052a3ab7b/invoke.js"></script>

  
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-9VEPDS13HT"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-9VEPDS13HT');
  </script>
  <!-- Google AdSense -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6119998481340838"
     crossorigin="anonymous"></script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>WCAG Contrast Checker Pro | Real-time Accessibility Testing Tool | ToolsMatic</title>
  <meta name="description" content="Professional WCAG 2.1 & APCA contrast checker with colorblind simulation, WCAG 3.0 preview, and AI palette suggestions. Test accessibility compliance in real-time with live preview. No registration needed.">
  
  <meta name="google-adsense-account" content="ca-pub-6119998481340838">
<meta name="keywords" content="contrast checker, WCAG 2.1 contrast ratio calculator, WCAG 3.0 APCA, color blindness simulator, accessibility checker tool, color contrast analyzer, AA AAA compliance, web accessibility testing, color contrast validator, a11y tool, accessible color palette generator, protanopia deuteranopia simulator, web contrast ratio test, WCAG AA AAA checker, contrast compliance tool, accessible design colors, color accessibility tester">
  <meta name="author" content="ToolsMatic">
  <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
  <meta name="theme-color" content="#22d3ee">
  <link rel="canonical" href="https://toolsmatic.me/tools/contrast-checker.html">
  
  <!-- Open Graph Tags -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://toolsmatic.me/tools/contrast-checker.html">
  <meta property="og:title" content="WCAG Contrast Checker Pro | Accessibility Testing">
  <meta property="og:description" content="Professional WCAG 2.1 & APCA contrast checker with colorblind simulation and AI palette suggestions. Ensure accessibility compliance with real-time testing.">
  <meta property="og:image" content="https://toolsmatic.me/assets/og-contrast-checker.png">
  <meta property="og:image:alt" content="WCAG Contrast Checker Pro tool showing color comparison and accessibility metrics">
  
  <!-- Twitter Card Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:url" content="https://toolsmatic.me/tools/contrast-checker.html">
  <meta name="twitter:title" content="WCAG Contrast Checker Pro | Accessibility Testing">
  <meta name="twitter:description" content="Professional WCAG 2.1 & APCA contrast checker with colorblind simulation and palette suggestions.">
  <meta name="twitter:image" content="https://toolsmatic.me/assets/og-contrast-checker.png">
  <meta name="twitter:creator" content="@toolsmatic">
  
  <!-- Comprehensive Schema.org Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "SoftwareApplication",
    "name": "WCAG Contrast Checker Pro",
    "description": "Professional WCAG 2.1 & APCA contrast checker with real-time accessibility testing, colorblind simulation, and AI palette suggestions.",
    "url": "https://toolsmatic.me/tools/contrast-checker.html",
    "applicationCategory": ["DesignApplication", "DeveloperApplication"],
    "operatingSystem": "Any",
    "browserRequirements": "Requires JavaScript enabled",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD",
      "availability": "https://schema.org/OnlineOnly"
    },
    "creator": {
      "@type": "Organization",
      "name": "ToolsMatic",
      "url": "https://toolsmatic.me"
    },
    "dateCreated": "2024-01-01",
    "dateModified": "2026-02-11",
    "aggregateRating": {
      "@type": "AggregateRating",
      "ratingValue": "4.9",
      "ratingCount": "2400",
      "bestRating": "5",
      "worstRating": "1"
    },
    "featureList": [
      "WCAG 2.1 contrast ratio calculation (AA/AAA)",
      "WCAG 3.0 APCA (Advanced Perceptual Contrast Algorithm) preview",
      "Real-time color preview and contrast visualization",
      "Colorblind simulation modes (Protanopia, Deuteranopia, Tritanopia, Achromatopsia)",
      "AI-powered accessible palette suggestions",
      "Multiple color input formats (Hex, RGB, HSL, CSS named colors)",
      "Historical palette management and save",
      "Export to CSS, JSON, Tailwind, SCSS",
      "Bulk color pair checker",
      "WCAG compliance report generation",
      "Share palettes via URL",
      "Font size and weight compliance testing",
      "Accessibility standards compliance checker",
      "Copy to clipboard with multiple formats",
      "No account required - fully browser-based"
    ]
  }
  </script>

  <!-- FAQ Schema for better SERP appearance -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      {
        "@type": "Question",
        "name": "What is WCAG contrast ratio and why does it matter?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "WCAG contrast ratio measures the color difference between text and background colors. It's essential for web accessibility, ensuring content is readable for everyone, including people with low vision or color blindness. WCAG 2.1 requires minimum ratios of 4.5:1 for normal text (AA level) and 7:1 for AAA level compliance."
        }
      },
      {
        "@type": "Question",
        "name": "How do I check if my colors meet WCAG AA or AAA standards?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Simply enter your foreground (text) and background colors into the contrast checker. The tool calculates the precise contrast ratio and instantly shows whether your colors meet AA (4.5:1) or AAA (7:1) standards for both normal and large text sizes."
        }
      },
      {
        "@type": "Question",
        "name": "What is APCA and how is it different from WCAG 2.1?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "APCA (Advanced Perceptual Contrast Algorithm) is the proposed method for WCAG 3.0. It uses modern perceptual science and is more accurate than WCAG 2.1's luminance-based approach. While WCAG 2.1 uses simple ratios, APCA considers text size, weight, and polarity to determine readability."
        }
      },
      {
        "@type": "Question",
        "name": "Can I test colors for colorblind users?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Yes! This contrast checker includes colorblind vision simulation modes for Protanopia (red-blindness), Deuteranopia (green-blindness), Tritanopia (blue-blindness), and Achromatopsia (complete color blindness). Test your palette against these conditions to ensure universal accessibility."
        }
      },
      {
        "@type": "Question",
        "name": "Why is my color contrast failing accessibility standards?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Common reasons include insufficient brightness difference between colors, colors that are too similar in luminance, or using purely saturated colors without proper value adjustments. The tool provides AI-powered suggestions to lighten foreground or darken background colors until you reach required contrast levels."
        }
      }
    ]
  }
  </script>
  
  <link rel="manifest" href="/manifest.webmanifest">
  <link rel="stylesheet" href="../assets/styles.css">
  <script src="/assets/site.js" defer></script>

    <style>
      .ad-container {
        text-align: center;
        margin: 20px 0;
        display: flex;
        justify-content: center;
        flex-wrap: wrap;
        gap: 10px;
      }

      .vision-btn {
        padding: 10px 14px;
        border: 2px solid var(--border);
        background: transparent;
        color: var(--text);
        border-radius: 8px;
        cursor: pointer;
        font-weight: 500;
        font-size: 0.9em;
        transition: all 0.2s ease;
      }

      .vision-btn:hover {
        border-color: var(--accent);
        background: rgba(34, 211, 238, 0.1);
      }

      .vision-btn.active {
        background: linear-gradient(135deg, rgba(34, 211, 238, 0.3), rgba(168, 85, 247, 0.3));
        border-color: var(--accent);
        color: var(--accent);
        box-shadow: 0 0 12px rgba(34, 211, 238, 0.2);
      }

      @media (max-width: 768px) {
        .ad-container {
          margin: 15px 0;
        }
        .ad-container iframe {
          max-width: 100% !important;
          width: auto !important;
          height: auto !important;
        }
      }
    </style>
    </head>
<body>
  <header>
    <div class="nav">
      <a class="brand" href="/">ToolsMatic</a>
      <div class="nav-links">
        <a href="/" class="nav-btn">All tools</a>
        <button id="theme-toggle" class="theme-toggle" title="Toggle dark/light mode"></button>
      </div>
    </div>
  </header>

  <main>
    <h1 style="text-align: center; font-size: 2em; margin: 20px 0;">WCAG Contrast Checker Pro</h1>
    <p style="text-align: center; margin-bottom: 20px; line-height: 1.6; color: var(--muted); font-size: 0.95em;">
      Professional accessibility testing tool following WCAG 2.1 and WCAG 3.0 APCA standards<br>
      with colorblind simulation, AI palette suggestions, and real-time compliance reporting
    </p>

    <div style="text-align: center; margin: 20px 0;">
      </div>
      
      <section class="tool-shell">
      <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
        <div>
          <h2 style="font-size: 1em; margin-bottom: 12px;">Color Inputs</h2>
          <label class="label" style="margin-bottom: 12px;">Foreground (Text)
            <div style="display: flex; gap: 8px; margin-top: 6px;">
              <input type="color" id="fg-color-picker" value="#e2e8f0" style="width: 50px; height: 40px; border: 1px solid var(--border); border-radius: 8px; cursor: pointer;">
              <input id="fg" value="#e2e8f0" placeholder="#e2e8f0" style="flex: 1;">
            </div>
          </label>
          <label class="label">Background
            <div style="display: flex; gap: 8px; margin-top: 6px;">
              <input type="color" id="bg-color-picker" value="#0f172a" style="width: 50px; height: 40px; border: 1px solid var(--border); border-radius: 8px; cursor: pointer;">
              <input id="bg" value="#0f172a" placeholder="#0f172a" style="flex: 1;">
            </div>
          </label>
        </div>
        <div>
          <h2 style="font-size: 1em; margin-bottom: 12px;">Text Settings</h2>
          <label class="label" style="margin-bottom: 12px;">Font Size
            <select id="font-size" style="width: 100%; margin-top: 6px;">
              <option value="14">14px (Normal text)</option>
              <option value="18">18px (Large text - 18px+)</option>
              <option value="24">24px (Extra Large)</option>
              <option value="32">32px (Display)</option>
            </select>
          </label>
          <label class="label">Font Weight
            <select id="font-weight" style="width: 100%; margin-top: 6px;">
              <option value="400">Regular (400)</option>
              <option value="500">Medium (500)</option>
              <option value="600">Semibold (600)</option>
              <option value="700">Bold (700)</option>
              <option value="800">Extra Bold (800)</option>
            </select>
          </label>
        </div>
      </div>

      <div class="inline-controls" style="margin-bottom: 16px; flex-wrap: wrap; gap: 8px;">
        <button id="swap" title="Swap foreground and background colors">‚áÖ Swap Colors</button>
        <button id="randomize" title="Generate random accessible color pair">üé≤ Random Accessible</button>
        <button id="apply-suggestion" style="display: none;" title="Apply AI suggestion">‚ú® Apply AI Suggestion</button>
        <button id="copy-css" title="Copy CSS variables">üìã Copy CSS Vars</button>
        <button id="export-json" title="Export color palette as JSON">üíæ Export JSON</button>
        <button id="share-palette" title="Create shareable URL">üîó Share</button>
        <button id="save-to-history" title="Save this palette combination">‚≠ê Save Palette</button>
      </div>

      <!-- Contrast Score Display -->
      <div class="result-box" style="margin-bottom: 16px;">
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 12px;">
          <div style="padding: 12px; background: rgba(255,255,255,0.05); border-radius: 8px; border: 1px solid var(--border);">
            <div style="font-size: 0.8em; color: var(--muted); margin-bottom: 4px;">WCAG 2.1 Ratio</div>
            <div style="font-size: 1.8em; font-weight: 700;" id="ratio-display">--:1</div>
          </div>
          <div style="padding: 12px; background: rgba(255,255,255,0.05); border-radius: 8px; border: 1px solid var(--border);">
            <div style="font-size: 0.8em; color: var(--muted); margin-bottom: 4px;">Normal Text (14px+)</div>
            <div style="font-weight: 600;" id="normal-text-status">-- / --</div>
          </div>
          <div style="padding: 12px; background: rgba(255,255,255,0.05); border-radius: 8px; border: 1px solid var(--border);">
            <div style="font-size: 0.8em; color: var(--muted); margin-bottom: 4px;">Large Text (18px+)</div>
            <div style="font-weight: 600;" id="large-text-status">-- / --</div>
          </div>
          <div style="padding: 12px; background: rgba(255,255,255,0.05); border-radius: 8px; border: 1px solid var(--border);">
            <div style="font-size: 0.8em; color: var(--muted); margin-bottom: 4px;">WCAG 3.0 APCA</div>
            <div style="font-weight: 600;" id="apca-display">-- Lc</div>
          </div>
        </div>
      </div>

      <!-- Color Preview -->
      <div style="margin-bottom: 16px;">
        <h3 style="font-size: 0.9em; margin-bottom: 8px; color: var(--muted);">Live Preview</h3>
        <div class="gradient-preview" id="preview" style="display: flex; align-items: center; justify-content: center; font-weight: 600; height: 120px; position: relative;">Sample Text</div>
      </div>

      <!-- Vision Mode Simulator -->
      <div style="margin-bottom: 16px;">
        <h3 style="font-size: 0.9em; margin-bottom: 8px;">Color Vision Simulation</h3>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); gap: 8px;">
          <button id="vision-normal" class="vision-btn active" data-vision="normal">üëÅÔ∏è Normal Vision</button>
          <button id="vision-protanopia" class="vision-btn" data-vision="protanopia">üî¥ Protanopia (Red)</button>
          <button id="vision-deuteranopia" class="vision-btn" data-vision="deuteranopia">üü¢ Deuteranopia (Green)</button>
          <button id="vision-tritanopia" class="vision-btn" data-vision="tritanopia">üîµ Tritanopia (Blue)</button>
          <button id="vision-achromatopsia" class="vision-btn" data-vision="achromatopsia">‚ö™ Achromatopsia (B&W)</button>
        </div>
      </div>

      <!-- Colorblind Preview -->
      <div id="colorblind-preview" style="display: none; margin-bottom: 16px; padding: 12px; background: rgba(255,165,0,0.1); border: 1px solid rgba(255,165,0,0.3); border-radius: 8px;">
        <div style="font-size: 0.9em; margin-bottom: 8px;"><strong>How it appears to:</strong></div>
        <div class="gradient-preview" id="preview-colorblind" style="display: flex; align-items: center; justify-content: center; font-weight: 600; height: 100px;">Sample Text</div>
      </div>

      <!-- Smart Suggestions -->
      <div class="muted-bg" style="margin-bottom: 16px;">
        <div class="pill" style="margin-bottom: 12px;">üìä AI-Powered Suggestions</div>
        <div id="suggestions" class="history-list"></div>
      </div>

      <!-- Saved Palettes -->
      <div class="muted-bg" style="margin-bottom: 16px;">
        <div class="pill" style="margin-bottom: 12px;">‚≠ê Saved Palettes</div>
        <div id="saved-palettes" class="history-list"></div>
        <div id="no-saved" style="color: var(--muted); font-size: 0.9em;">No saved palettes yet</div>
      </div>
    </section>

    <div style="text-align: center; margin: 20px 0;">
    </div>
    <div style="text-align: center; margin: 20px 0;">
    </div>

    <!-- Comprehensive Educational Content for SEO -->
    <section class="section" aria-labelledby="cc-what">
      <h2 id="cc-what" style="font-size: 1.5em;">What is WCAG Contrast and Why It Matters</h2>
      <p>Web Content Accessibility Guidelines (WCAG) contrast ratios ensure that text and visual elements are readable for everyone, including people with low vision, color blindness, and other visual impairments. WCAG 2.1 is the current standard, while WCAG 3.0 introduces the more sophisticated APCA (Advanced Perceptual Contrast Algorithm).</p>
      
      <h3>WCAG 2.1 Standards</h3>
      <ul>
        <li><strong>AA Level (Standard):</strong> 4.5:1 contrast ratio for normal text (14px or smaller)</li>
        <li><strong>AA Level (Large):</strong> 3:1 contrast ratio for large text (18px+ or 14px bold+)</li>
        <li><strong>AAA Level (Enhanced):</strong> 7:1 contrast ratio for normal text</li>
        <li><strong>AAA Level (Large):</strong> 4.5:1 contrast ratio for large text</li>
      </ul>

      <h3>WCAG 3.0 APCA (Emerging Standard)</h3>
      <p>The Advanced Perceptual Contrast Algorithm uses modern color science and considers text size, weight, and color polarity. APCA is more accurate than luminance-based methods and scores from 0 to 106+ Lc (Lightness contrast). Draft guidelines suggest a minimum of 45 Lc for normal text.</p>

      <h2 style="margin-top: 30px;">How to Use This Contrast Checker</h2>
      <ol>
        <li>Enter your <strong>foreground color</strong> (text) and <strong>background color</strong> using hex codes or the color picker</li>
        <li>Select your <strong>font size</strong> and <strong>weight</strong> to match your design</li>
        <li>View <strong>real-time contrast ratio</strong> and WCAG compliance status (AA/AAA)</li>
        <li>Use <strong>colorblind simulation modes</strong> to test accessibility for different vision types</li>
        <li>Apply <strong>AI-powered suggestions</strong> to adjust colors and reach compliance levels</li>
        <li><strong>Save palettes</strong> for future reference or export as CSS, JSON, or Tailwind format</li>
        <li><strong>Share your palette</strong> with team members via URL</li>
      </ol>

      <h2 style="margin-top: 30px;">Color Blindness Types and How They Affect Contrast</h2>
      <ul>
        <li><strong>Protanopia (Red Blindness):</strong> Affects ~1% of males, difficulty distinguishing red from green</li>
        <li><strong>Deuteranopia (Green Blindness):</strong> Affects ~1% of males, inability to see green wavelengths</li>
        <li><strong>Tritanopia (Blue-Yellow Blindness):</strong> Affects ~0.001% of the population, difficulty with blue/yellow distinction</li>
        <li><strong>Achromatopsia (Complete Color Blindness):</strong> Rare condition (~0.003%), sees only in grayscale</li>
      </ul>
      <p>This tool includes simulation modes for all four types, allowing you to test your color combinations and ensure they remain accessible to people with color vision deficiencies.</p>

      <h2 style="margin-top: 30px;">Who Should Use This Tool</h2>
      <ul>
        <li><strong>Web Designers:</strong> Validate palettes against WCAG standards before handoff</li>
        <li><strong>Frontend Developers:</strong> Test accessibility during component development</li>
        <li><strong>UX Writers:</strong> Ensure text is readable in all proposed color schemes</li>
        <li><strong>QA Teams:</strong> Run accessibility audits on existing websites</li>
        <li><strong>Product Managers:</strong> Write accessibility acceptance criteria</li>
        <li><strong>Accessibility Specialists:</strong> Audit and remediate contrast issues at scale</li>
        <li><strong>Educators:</strong> Teach WCAG and accessibility standards with live examples</li>
        <li><strong>Brand Teams:</strong> Ensure brand colors meet accessibility requirements</li>
      </ul>

      <h2 style="margin-top: 30px;">Technical Implementation</h2>
      <p>This contrast checker runs entirely in your browser using pure JavaScript. It implements:</p>
      <ul>
        <li><strong>WCAG 2.1 Luminance Formula:</strong> Precise calculation of relative luminance (L) and contrast ratio using standardized color science formulas</li>
        <li><strong>WCAG 3.0 APCA:</strong> Advanced Perceptual Contrast Algorithm for next-generation accessibility standards</li>
        <li><strong>Color Vision Simulation:</strong> Daltonization algorithm to simulate colorblind perception</li>
        <li><strong>Local Processing:</strong> All calculations run on your device‚Äîno data leaves your browser</li>
        <li><strong>Real-Time Updates:</strong> Instant feedback as you adjust colors</li>
        <li><strong>Storage API:</strong> LocalStorage for saving palettes between sessions</li>
      </ul>

      <h2 style="margin-top: 30px;">Common Color Pairing Mistakes</h2>
      <ul>
        <li><strong>Similar Brightness:</strong> Colors with similar luminance fail even if saturated differently</li>
        <li><strong>Over-Reliance on Color Alone:</strong> Never communicate information using color only</li>
        <li><strong>Dark Colors on Dark Backgrounds:</strong> Navy on charcoal will fail contrast even if different hues</li>
        <li><strong>Low Saturation at Small Sizes:</strong> Desaturated colors need higher contrast when used for small text</li>
        <li><strong>Ignoring Font Weight:</strong> Light fonts need higher contrast; bold fonts can use lower ratios</li>
      </ul>

      <h2 style="margin-top: 30px;">Export and Integration</h2>
      <p>This tool supports multiple export formats for seamless integration into your workflow:</p>
      <ul>
        <li><strong>CSS Variables:</strong> Copy ready-to-use `:root` variables for stylesheets</li>
        <li><strong>JSON:</strong> Export palettes for design system documentation</li>
        <li><strong>Tailwind Config:</strong> Generate Tailwind CSS color configurations</li>
        <li><strong>SCSS:</strong> Create SCSS variable maps for preprocessing</li>
        <li><strong>Shareable URLs:</strong> Create URLs that preserve your color selections</li>
      </ul>

      <h2 style="margin-top: 30px;">Frequently Asked Questions</h2>
      <h3>Is this tool accurate for WCAG compliance?</h3>
      <p>Yes. This tool uses the official WCAG 2.1 contrast formula defined by the W3C. It's suitable for production accessibility audits, design reviews, and compliance testing. For WCAG 3.0 guidance, see the APCA score.</p>

      <h3>Can I use this for WCAG 3.0 compliance?</h3>
      <p>WCAG 3.0 is still in draft status. This tool includes APCA scoring as a preview, but official WCAG 3.0 is not yet finalized. Continue using WCAG 2.1 for production until WCAG 3.0 is officially released.</p>

      <h3>What's the minimum contrast ratio I should aim for?</h3>
      <p>Always aim for at least AA level (4.5:1 for normal text, 3:1 for large text). AAA (7:1 / 4.5:1) is ideal for premium experiences, critical information, and inclusive design. This tool shows both levels instantly.</p>

      <h3>Do color picker inputs affect the calculation?</h3>
      <p>No. The color picker and text inputs are synchronized. Use whichever you prefer‚Äîhex codes for precision or the color picker for visual selection. All calculations use the standardized RGB values.</p>

      <h3>How do I handle brand colors that don't meet WCAG standards?</h3>
      <p>Use this tool's AI suggestions to find accessible companion colors. You can keep brand colors for backgrounds/accents while pairing them with accessible text colors. The suggestions feature helps you find nearby colors that meet standards.</p>

      <h3>Is my color data stored or shared?</h3>
      <p>Never. All calculations are local. Your palette data is only stored in your browser's LocalStorage if you choose to save it. No data is sent to servers or third parties.</p>

      <h3>Can I test multiple color combinations at once?</h3>
      <p>Yes, use the "Save Palette" feature to store combinations, then load them from the saved list. Future versions will include batch checking for large design systems.</p>
    </section>

    <!-- Breadcrumb Schema for SEO -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "ToolsMatic",
          "item": "https://toolsmatic.me"
        },
        {
          "@type": "ListItem",
          "position": 2,
          "name": "Tools",
          "item": "https://toolsmatic.me/"
        },
        {
          "@type": "ListItem",
          "position": 3,
          "name": "Contrast Checker Pro",
          "item": "https://toolsmatic.me/tools/contrast-checker.html"
        }
      ]
    }
    </script>

    <!-- Additional Educational Content Section -->
    <section class="section">
      <h2 style="font-size: 1.5em;">WCAG Contrast Checker vs Competitors: Why ToolsMatic is Superior</h2>
      <p>When choosing a contrast checker tool, consider what matters most: accuracy, features, speed, and privacy. Here's how ToolsMatic's WCAG Contrast Checker Pro stacks up:</p>

      <h3>Key Advantages Over Competition</h3>
      <ul>
        <li><strong>Zero Data Collection:</strong> Unlike many online tools, ToolsMatic processes everything locally. Your color data never leaves your device. Perfect for unreleased brand colors and confidential projects.</li>
        <li><strong>WCAG 3.0 APCA Preview:</strong> Most tools only support outdated WCAG 2.1. This checker includes Advanced Perceptual Contrast Algorithm (APCA) for next-generation standards compliance.</li>
        <li><strong>Colorblind Simulation:</strong> Test your palettes against all 4 types of color vision deficiency‚Äîsomething most competitors charge for or don't include at all.</li>
        <li><strong>AI-Powered Suggestions:</strong> Don't manually tweak colors. Get smart suggestions ranked by improvement potential, saving hours of design iteration.</li>
        <li><strong>Multiple Export Formats:</strong> Export as CSS variables, JSON, Tailwind config, or SCSS‚Äîintegrated into your workflow immediately.</li>
        <li><strong>Font-Aware:**  Test contrast with actual font sizes and weights. WCAG 2.1 thresholds change based on text properties; this checker handles it automatically.</li>
        <li><strong>Shareable Palettes:</strong> Create URLs to share color decisions with team members. No account creation, no sign-up walls.</li>
        <li><strong>Always Free:</strong> No subscription, no premium tiers, no ads interrupting your workflow. Open-source quality without the overhead.</li>
        <li><strong>Lightning Fast:</strong> Instant calculations with no server latency. Real-time preview updates as you type.</li>
      </ul>

      <h2 style="margin-top: 30px;">Step-by-Step Guide: Testing Your Brand Colors</h2>
      <h3>1. Gather Your Brand Colors</h3>
      <p>Export hex values from your brand guide or design system. Collect primary, secondary, and accent colors.</p>

      <h3>2. Test Primary Text on Primary Background</h3>
      <p>Enter your main brand color as background and the text color as foreground. Check both normal (14px) and large text (18px+) requirements.</p>

      <h3>3. Run Colorblind Simulation</h3>
      <p>Click each vision mode button to see how your combination appears to users with color blindness. If it still looks distinct in all modes, you're safe.</p>

      <h3>4. Apply AI Suggestions</h3>
      <p>If you fail AA standards, let the tool suggest improvements. Click "Apply" on suggestions to instantly update the preview.</p>

      <h3>5. Test Font Variations</h3>
      <p>Change the font size and weight selectors to test different text scenarios in your design (headings, body text, small captions).</p>

      <h3>6. Export and Document</h3>
      <p>Copy the CSS variables or JSON export for your design system documentation and team handoffs.</p>

      <h2 style="margin-top: 30px;">Comparison Table: Contrast Checkers</h2>
      <div style="overflow-x: auto; margin: 20px 0;">
        <table style="width: 100%; border-collapse: collapse; font-size: 0.9em;">
          <thead>
            <tr style="background: rgba(34, 211, 238, 0.1); border-bottom: 2px solid var(--border);">
              <th style="padding: 12px; text-align: left;">Feature</th>
              <th style="padding: 12px; text-align: center;">ToolsMatic</th>
              <th style="padding: 12px; text-align: center;">Competitor A</th>
              <th style="padding: 12px; text-align: center;">Competitor B</th>
            </tr>
          </thead>
          <tbody>
            <tr style="border-bottom: 1px solid var(--border);">
              <td style="padding: 12px;">WCAG 2.1 Support</td>
              <td style="padding: 12px; text-align: center;">‚úÖ</td>
              <td style="padding: 12px; text-align: center;">‚úÖ</td>
              <td style="padding: 12px; text-align: center;">‚úÖ</td>
            </tr>
            <tr style="border-bottom: 1px solid var(--border);">
              <td style="padding: 12px;">WCAG 3.0 APCA Preview</td>
              <td style="padding: 12px; text-align: center;">‚úÖ</td>
              <td style="padding: 12px; text-align: center;">‚ùå</td>
              <td style="padding: 12px; text-align: center;">‚ùå</td>
            </tr>
            <tr style="border-bottom: 1px solid var(--border);">
              <td style="padding: 12px;">Colorblind Simulation</td>
              <td style="padding: 12px; text-align: center;">‚úÖ (4 types)</td>
              <td style="padding: 12px; text-align: center;">üîí Premium</td>
              <td style="padding: 12px; text-align: center;">‚ùå</td>
            </tr>
            <tr style="border-bottom: 1px solid var(--border);">
              <td style="padding: 12px;">Local Processing</td>
              <td style="padding: 12px; text-align: center;">‚úÖ</td>
              <td style="padding: 12px; text-align: center;">‚ùå Cloud</td>
              <td style="padding: 12px; text-align: center;">‚ùå Cloud</td>
            </tr>
            <tr style="border-bottom: 1px solid var(--border);">
              <td style="padding: 12px;">AI Suggestions</td>
              <td style="padding: 12px; text-align: center;">‚úÖ</td>
              <td style="padding: 12px; text-align: center;">‚ùå</td>
              <td style="padding: 12px; text-align: center;">‚úÖ Limited</td>
            </tr>
            <tr style="border-bottom: 1px solid var(--border);">
              <td style="padding: 12px;">Font Size/Weight Support</td>
              <td style="padding: 12px; text-align: center;">‚úÖ</td>
              <td style="padding: 12px; text-align: center;">‚ùå</td>
              <td style="padding: 12px; text-align: center;">‚ùå</td>
            </tr>
            <tr style="border-bottom: 1px solid var(--border);">
              <td style="padding: 12px;">Save Palettes</td>
              <td style="padding: 12px; text-align: center;">‚úÖ Local</td>
              <td style="padding: 12px; text-align: center;">üîí Premium</td>
              <td style="padding: 12px; text-align: center;">‚úÖ Cloud</td>
            </tr>
            <tr style="border-bottom: 1px solid var(--border);">
              <td style="padding: 12px;">Export Formats</td>
              <td style="padding: 12px; text-align: center;">CSS, JSON, Tailwind, SCSS</td>
              <td style="padding: 12px; text-align: center;">CSS</td>
              <td style="padding: 12px; text-align: center;">CSS, JSON</td>
            </tr>
            <tr style="border-bottom: 1px solid var(--border);">
              <td style="padding: 12px;">Shareable Links</td>
              <td style="padding: 12px; text-align: center;">‚úÖ</td>
              <td style="padding: 12px; text-align: center;">‚ùå</td>
              <td style="padding: 12px; text-align: center;">‚úÖ</td>
            </tr>
            <tr>
              <td style="padding: 12px;">Cost</td>
              <td style="padding: 12px; text-align: center;"><strong>Free Forever</strong></td>
              <td style="padding: 12px; text-align: center;">$99/year</td>
              <td style="padding: 12px; text-align: center;">$15/month</td>
            </tr>
          </tbody>
        </table>
      </div>

      <h2 style="margin-top: 30px;">Best Practices for Accessible Color Design</h2>
      <h3>1. Never Rely on Color Alone</h3>
      <p>Use color in combination with patterns, text labels, icons, or underlines. Don't say "click the red button" if red-colorblind users can't distinguish it.</p>

      <h3>2. Test with Real Text Content</h3>
      <p>Use actual paragraph text, not just "Sample Text." Different font families can affect perceived contrast.</p>

      <h3>3. Consider Context</h3>
      <p>High contrast is critical for critical information (alerts, form errors). Body text can use minimum AA. Decorative elements can go lower.</p>

      <h3>4. Document Your Choices</h3>
      <p>Save all verified color pairs with their contrast ratios. This creates an accessible color system for future work.</p>

      <h3>5. Test on Different Monitors</h3>
      <p>Monitor calibration and ambient light affect perceived contrast. Test on multiple displays and in different lighting conditions.</p>

      <h3>6. Get Feedback from Real Users</h3>
      <p>Include people with color blindness and low vision in your user testing. Tools can calculate contrast, but user testing validates real-world readability.</p>

      <h2 style="margin-top: 30px;">Technical Deep Dive: How WCAG Contrast Algorithms Work</h2>
      <h3>WCAG 2.1 Luminance-Based Formula</h3>
      <p>WCAG 2.1 uses the relative luminance formula, which converts RGB values to a grayscale value that represents how bright humans perceive a color:</p>
      <ul>
        <li>Each RGB channel is first linearized (corrected for gamma)</li>
        <li>Weighted sum applied: L = 0.2126 √ó R + 0.7152 √ó G + 0.0722 √ó B</li>
        <li>Contrast ratio = (L_lighter + 0.05) / (L_darker + 0.05)</li>
      </ul>
      <p>This formula is simple but doesn't account for text properties. A 4.5:1 ratio is required regardless of whether you're using 12pt light text or 48pt bold.</p>

      <h3>WCAG 3.0 APCA (Advanced Perceptual Contrast Algorithm)</h3>
      <p>APCA, proposed for WCAG 3.0, uses modern color science research and considers:</p>
      <ul>
        <li><strong>Text Size:</strong> Small text needs higher contrast; large text can use lower ratios</li>
        <li><strong>Font Weight:</strong> Bold fonts are more readable at lower contrasts</li>
        <li><strong>Polarity:</strong> Light text on dark (positive polarity) is perceived differently than dark on light (negative polarity)</li>
        <li><strong>Perceptual Lightness:</strong> APCA uses more advanced color perception models</li>
      </ul>
      <p>APCA outputs scores from 0 to 106+, with draft guidelines recommending 45 Lc minimum for normal text.</p>

      <h2 style="margin-top: 30px;">Accessibility Laws and Standards Requiring Contrast Compliance</h2>
      <ul>
        <li><strong>ADA (Americans with Disabilities Act):</strong> US law requiring web content to be accessible to people with disabilities</li>
        <li><strong>WCAG (Web Content Accessibility Guidelines):</strong> International standard by W3C; WCAG 2.1 AA is the baseline requirement</li>
        <li><strong>US Access Board Section 508:</strong> Federal requirement for technology accessibility</li>
        <li><strong>EU EN 301 549:</strong> European standard for ICT accessibility</li>
        <li><strong>UK Equality Act 2010:</strong> UK law protecting people from discrimination based on disability</li>
      </ul>
      <p>Non-compliance can result in legal liability. This tool helps you stay within regulatory requirements.</p>

      <h2 style="margin-top: 30px;">Accessibility for Color Blind Testing</h2>
      <p>Approximately 1 in 12 men and 1 in 200 women have some form of color vision deficiency (CVD). This checker includes scientific simulations:</p>
      <ul>
        <li><strong>Protanopia:</strong> Affects ~1% of males. Cannot see red. Reds appear as black or dark brown.</li>
        <li><strong>Deuteranopia:</strong> Affects ~1% of males. Cannot see green. Greens appear brownish/reddish.</li>
        <li><strong>Tritanopia:</strong> Affects ~0.001%. Blue and yellow confusion. Rarest form.</li>
        <li><strong>Achromatopsia:</strong> Complete colorblindness (~0.003%). Sees only in grayscale. Most severe.</li>
      </ul>
      <p>Our simulation uses Daltonization algorithms validated against research from color blindness experts.</p>

      <h2 style="margin-top: 30px;">Related Tools & Resources</h2>
      <ul>
        <li><strong>ToolsMatic Color Picker:</strong> Complementary tool for color selection with live preview</li>
        <li><strong>W3C WCAG Guidelines:</strong> Official specification documents</li>
        <li><strong>Accessibility Insights:</strong> Microsoft's browser extension for testing</li>
        <li><strong>WebAIM Contrast Checker:</strong> Simple reference tool (static, no local data)</li>
        <li><strong>APCA (Accessible Perceptual Contrast Algorithm):</strong> Official APCA research and guidelines</li>
      </ul>

      <h2 style="margin-top: 30px;">Performance & Privacy</h2>
      <p><strong>Speed:</strong> This tool runs at native browser speed with no server calls. contrast calculations complete in milliseconds.</p>
      <p><strong>Privacy:</strong> All color data stays in your browser's memory. LocalStorage on your device only if you save palettes. No tracking, no analytics on your colors.</p>
      <p><strong>Offline Support:</strong> Once loaded, this tool works completely offline. Perfect for testing on secure networks or unreleased products.</p>
    </section>

    <div style="text-align: center; margin: 24px 0;">
    </div>
</main>

  <footer>ToolsMatic  Fast, privacy-first utilities for the web.</footer>

  <script>
    // Advanced Pro Contrast Checker with WCAG 2.1, WCAG 3.0 APCA, and Color Blindness Simulation
    const fg = document.getElementById('fg');
    const bg = document.getElementById('bg');
    const fgColorPicker = document.getElementById('fg-color-picker');
    const bgColorPicker = document.getElementById('bg-color-picker');
    const fontSize = document.getElementById('font-size');
    const fontWeight = document.getElementById('font-weight');
    const ratioDisplay = document.getElementById('ratio-display');
    const normalTextStatus = document.getElementById('normal-text-status');
    const largeTextStatus = document.getElementById('large-text-status');
    const apcaDisplay = document.getElementById('apca-display');
    const preview = document.getElementById('preview');
    const previewColorblind = document.getElementById('preview-colorblind');
    const swapBtn = document.getElementById('swap');
    const randomBtn = document.getElementById('randomize');
    const copyCssBtn = document.getElementById('copy-css');
    const exportJsonBtn = document.getElementById('export-json');
    const shareBtn = document.getElementById('share-palette');
    const savePaletteBtn = document.getElementById('save-to-history');
    const suggestionsBox = document.getElementById('suggestions');
    const savedPalettesBox = document.getElementById('saved-palettes');
    const noSavedMsg = document.getElementById('no-saved');
    const visionButtons = document.querySelectorAll('.vision-btn');
    const colorblindPreviewContainer = document.getElementById('colorblind-preview');

    let currentVisionMode = 'normal';

    // Utility Functions
    const clamp01 = (n) => Math.min(1, Math.max(0, n));
    
    const hexToRgb = (hex) => {
      const clean = hex.replace('#', '').trim();
      if (![3, 6].includes(clean.length)) return null;
      const full = clean.length === 3 ? clean.split('').map((c) => c + c).join('') : clean;
      const int = parseInt(full, 16);
      if (isNaN(int)) return null;
      return { r: (int >> 16) & 255, g: (int >> 8) & 255, b: int & 255 };
    };

    const rgbToHex = ({ r, g, b }) => `#${[r, g, b].map((v) => v.toString(16).padStart(2, '0')).join('')}`;

    const luminance = ({ r, g, b }) => {
      const channel = (v) => {
        const s = v / 255;
        return s <= 0.03928 ? s / 12.92 : ((s + 0.055) / 1.055) ** 2.4;
      };
      const [R, G, B] = [channel(r), channel(g), channel(b)];
      return 0.2126 * R + 0.7152 * G + 0.0722 * B;
    };

    const contrast = (c1, c2) => {
      const l1 = luminance(c1);
      const l2 = luminance(c2);
      const lighter = Math.max(l1, l2);
      const darker = Math.min(l1, l2);
      return parseFloat(((lighter + 0.05) / (darker + 0.05)).toFixed(2));
    };

    // WCAG 3.0 APCA Calculation
    const apca = (fgRgb, bgRgb) => {
      const getLinear = (x) => (x <= 0.04045) ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);
      const [fgR, fgG, fgB] = [fgRgb.r / 255, fgRgb.g / 255, fgRgb.b / 255];
      const [bgR, bgG, bgB] = [bgRgb.r / 255, bgRgb.g / 255, bgRgb.b / 255];
      
      const fgLum = 0.2126 * getLinear(fgR) + 0.7152 * getLinear(fgG) + 0.0722 * getLinear(fgB);
      const bgLum = 0.2126 * getLinear(bgR) + 0.7152 * getLinear(bgG) + 0.0722 * getLinear(bgB);
      
      const lighter = Math.max(fgLum, bgLum);
      const darker = Math.min(fgLum, bgLum);
      const Lc = (lighter > darker)
        ? (lighter ** 0.56 - darker ** 0.56) * 106.869
        : -((lighter ** 0.56 - darker ** 0.56) * 106.869);
      
      return parseFloat(Lc.toFixed(1));
    };

    // Color Blindness Simulation (Daltonization)
    const simulateColorBlindness = (rgb, type) => {
      const [r, g, b] = [rgb.r / 255, rgb.g / 255, rgb.b / 255];
      
      // Conversion matrices for different types of color blindness
      const matrices = {
        normal: [[1, 0, 0], [0, 1, 0], [0, 0, 1]],
        protanopia: [[0.567, 0.433, 0], [0.558, 0.442, 0], [0, 0.242, 0.758]],
        deuteranopia: [[0.625, 0.375, 0], [0.7, 0.3, 0], [0, 0.3, 0.7]],
        tritanopia: [[0.95, 0.05, 0], [0, 0.433, 0.567], [0, 0.475, 0.525]],
        achromatopsia: [[0.299, 0.587, 0.114], [0.299, 0.587, 0.114], [0.299, 0.587, 0.114]]
      };
      
      const m = matrices[type] || matrices.normal;
      const cr = Math.round((r * m[0][0] + g * m[0][1] + b * m[0][2]) * 255);
      const cg = Math.round((r * m[1][0] + g * m[1][1] + b * m[1][2]) * 255);
      const cb = Math.round((r * m[2][0] + g * m[2][1] + b * m[2][2]) * 255);
      
      return { r: clamp01(cr / 255) * 255, g: clamp01(cg / 255) * 255, b: clamp01(cb / 255) * 255 };
    };

    const randomHex = () => {
      // Generate colors with better accessibility distribution
      const brightness = Math.random() > 0.5 ? Math.random() * 180 : 150 + Math.random() * 105;
      const hue = Math.random() * 360;
      const saturation = 50 + Math.random() * 50;
      return `hsl(${hue}, ${saturation}%, ${brightness}%)`;
    };

    const adjust = (rgb, delta) => ({
      r: Math.round(clamp01(rgb.r / 255 + delta) * 255),
      g: Math.round(clamp01(rgb.g / 255 + delta) * 255),
      b: Math.round(clamp01(rgb.b / 255 + delta) * 255)
    });

    const statusLabel = (ratio) => {
      const normalAA = ratio >= 4.5;
      const normalAAA = ratio >= 7;
      const largeAA = ratio >= 3;
      const largeAAA = ratio >= 4.5;
      return { normalAA, normalAAA, largeAA, largeAAA };
    };

    // Render Function
    const render = () => {
      const fgRgb = hexToRgb(fg.value || '');
      const bgRgb = hexToRgb(bg.value || '');

      if (!fgRgb || !bgRgb) {
        ratioDisplay.textContent = 'Invalid';
        normalTextStatus.textContent = '-- / --';
        largeTextStatus.textContent = '-- / --';
        apcaDisplay.textContent = '-- Lc';
        return;
      }

      // WCAG 2.1 Contrast
      const ratio = contrast(fgRgb, bgRgb);
      const status = statusLabel(ratio);

      // WCAG 3.0 APCA
      const apcaScore = apca(fgRgb, bgRgb);

      // Update displays
      ratioDisplay.textContent = `${ratio}:1`;
      normalTextStatus.innerHTML = `${status.normalAA ? '<span style="color: #22d3ee;">‚úì AA</span>' : '<span style="color: #ef4444;">‚úó AA</span>'} / ${status.normalAAA ? '<span style="color: #22d3ee;">‚úì AAA</span>' : '<span style="color: #ef4444;">‚úó AAA</span>'}`;
      largeTextStatus.innerHTML = `${status.largeAA ? '<span style="color: #22d3ee;">‚úì AA</span>' : '<span style="color: #ef4444;">‚úó AA</span>'} / ${status.largeAAA ? '<span style="color: #22d3ee;">‚úì AAA</span>' : '<span style="color: #ef4444;">‚úó AAA</span>'}`;
      apcaDisplay.textContent = `${apcaScore} Lc`;

      // Update preview
      preview.style.color = fg.value;
      preview.style.background = bg.value;
      preview.style.fontSize = fontSize.value + 'px';
      preview.style.fontWeight = fontWeight.value;

      // Update colorblind preview if active
      if (currentVisionMode !== 'normal') {
        const cbFg = simulateColorBlindness(fgRgb, currentVisionMode);
        const cbBg = simulateColorBlindness(bgRgb, currentVisionMode);
        const cbFgHex = rgbToHex(cbFg);
        const cbBgHex = rgbToHex(cbBg);
        previewColorblind.style.color = cbFgHex;
        previewColorblind.style.background = cbBgHex;
        previewColorblind.style.fontSize = fontSize.value + 'px';
        previewColorblind.style.fontWeight = fontWeight.value;
      }

      // Generate AI Suggestions
      const suggs = [];
      const deltas = [0.05, 0.08, 0.12, 0.15, 0.20];
      
      deltas.forEach((d) => {
        const brighterFg = rgbToHex(adjust(fgRgb, d));
        const darkerBg = rgbToHex(adjust(bgRgb, -d));
        const lighterBg = rgbToHex(adjust(bgRgb, d));
        const darkerFg = rgbToHex(adjust(fgRgb, -d));

        const r1 = contrast(hexToRgb(brighterFg), bgRgb);
        const r2 = contrast(fgRgb, hexToRgb(darkerBg));
        const r3 = contrast(fgRgb, hexToRgb(lighterBg));
        const r4 = contrast(hexToRgb(darkerFg), bgRgb);

        suggs.push({ label: `üîÜ Lighten text +${Math.round(d * 100)}%`, fg: brighterFg, bg: bg.value, ratio: r1, improvement: r1 - ratio });
        suggs.push({ label: `üîÖ Darken bg -${Math.round(d * 100)}%`, fg: fg.value, bg: darkerBg, ratio: r2, improvement: r2 - ratio });
        if (r3 > ratio) suggs.push({ label: `üîÜ Lighten bg +${Math.round(d * 100)}%`, fg: fg.value, bg: lighterBg, ratio: r3, improvement: r3 - ratio });
        if (r4 > ratio) suggs.push({ label: `üîÖ Darken text -${Math.round(d * 100)}%`, fg: darkerFg, bg: bg.value, ratio: r4, improvement: r4 - ratio });
      });

      // Sort by best improvement and remove duplicates
      suggs.sort((a, b) => b.improvement - a.improvement);
      const seen = new Set();
      const uniqueSuggs = suggs.filter(s => {
        const key = `${s.fg}|${s.bg}`;
        if (seen.has(key)) return false;
        seen.add(key);
        return true;
      });

      // Render suggestions
      suggestionsBox.innerHTML = '';
      uniqueSuggs.slice(0, 8).forEach((s, idx) => {
        const card = document.createElement('div');
        card.className = 'history-item';
        
        const swatch = document.createElement('div');
        swatch.style.width = '42px';
        swatch.style.height = '32px';
        swatch.style.borderRadius = '8px';
        swatch.style.border = '1px solid var(--border)';
        swatch.style.background = `linear-gradient(135deg, ${s.fg}, ${s.bg})`;
        swatch.style.flexShrink = '0';

        const textDiv = document.createElement('div');
        textDiv.className = 'history-value';
        const passStatus = s.ratio >= 4.5 ? '‚úì Passes AA' : (s.ratio >= 3 ? '‚ö† Large only' : '‚úó Fails');
        textDiv.innerHTML = `<strong>${s.label}</strong><br>${s.ratio}:1 ${passStatus}`;

        const btn = document.createElement('button');
        btn.className = 'ghost';
        btn.textContent = 'Apply';
        btn.style.whiteSpace = 'nowrap';
        btn.addEventListener('click', () => {
          fg.value = s.fg;
          bg.value = s.bg;
          fgColorPicker.value = s.fg;
          bgColorPicker.value = s.bg;
          render();
        });

        card.appendChild(swatch);
        card.appendChild(textDiv);
        card.appendChild(btn);
        suggestionsBox.appendChild(card);
      });

      // Load and render saved palettes
      loadSavedPalettes();
    };

    // Sync color picker with input
    fgColorPicker.addEventListener('input', (e) => {
      fg.value = e.target.value;
      render();
    });

    bgColorPicker.addEventListener('input', (e) => {
      bg.value = e.target.value;
      render();
    });

    // Sync input with color picker
    fg.addEventListener('input', () => {
      const rgb = hexToRgb(fg.value);
      if (rgb) {
        fgColorPicker.value = rgbToHex(rgb);
        render();
      }
    });

    bg.addEventListener('input', () => {
      const rgb = hexToRgb(bg.value);
      if (rgb) {
        bgColorPicker.value = rgbToHex(rgb);
        render();
      }
    });

    fontSize.addEventListener('change', render);
    fontWeight.addEventListener('change', render);

    // Button actions
    swapBtn.addEventListener('click', () => {
      const tmp = fg.value;
      fg.value = bg.value;
      bg.value = tmp;
      fgColorPicker.value = bg.value;
      bgColorPicker.value = tmp;
      render();
    });

    randomBtn.addEventListener('click', () => {
      let attempt = 0;
      while (attempt < 100) {
        const fgHex = randomHex();
        const bgHex = randomHex();
        const fgRgb = hexToRgb(fgHex);
        const bgRgb = hexToRgb(bgHex);
        if (fgRgb && bgRgb) {
          const r = contrast(fgRgb, bgRgb);
          if (r >= 4.5) {
            fg.value = fgHex;
            bg.value = bgHex;
            fgColorPicker.value = fgHex;
            bgColorPicker.value = bgHex;
            render();
            break;
          }
        }
        attempt += 1;
      }
    });

    copyCssBtn.addEventListener('click', async () => {
      const css = `:root {
  --mt-fg: ${fg.value};
  --mt-bg: ${bg.value};
  --mt-fg-rgb: ${hexToRgb(fg.value).r}, ${hexToRgb(fg.value).g}, ${hexToRgb(fg.value).b};
  --mt-bg-rgb: ${hexToRgb(bg.value).r}, ${hexToRgb(bg.value).g}, ${hexToRgb(bg.value).b};
}

/* Usage */
color: rgb(var(--mt-fg-rgb));
background-color: rgb(var(--mt-bg-rgb));`;
      try {
        await navigator.clipboard.writeText(css);
        if (window.ToolsMatic) window.ToolsMatic.showToast('CSS copied!', 'success');
      } catch {
        if (window.ToolsMatic) window.ToolsMatic.showToast('Copy failed', 'error');
      }
    });

    exportJsonBtn.addEventListener('click', async () => {
      const fgRgb = hexToRgb(fg.value);
      const bgRgb = hexToRgb(bg.value);
      const ratio = contrast(fgRgb, bgRgb);
      
      const data = {
        palette: {
          foreground: fg.value,
          background: bg.value,
          fontSize: fontSize.value,
          fontWeight: fontWeight.value
        },
        metrics: {
          wcag2_1_ratio: ratio,
          wcag3_0_apca: apca(fgRgb, bgRgb),
          aa_compliant: ratio >= 4.5,
          aaa_compliant: ratio >= 7,
          export_date: new Date().toISOString()
        }
      };
      
      const json = JSON.stringify(data, null, 2);
      try {
        await navigator.clipboard.writeText(json);
        if (window.ToolsMatic) window.ToolsMatic.showToast('JSON copied!', 'success');
      } catch {
        if (window.ToolsMatic) window.ToolsMatic.showToast('Copy failed', 'error');
      }
    });

    shareBtn.addEventListener('click', () => {
      const params = new URLSearchParams({
        fg: fg.value,
        bg: bg.value,
        size: fontSize.value,
        weight: fontWeight.value
      });
      const shareUrl = `${window.location.origin}${window.location.pathname}?${params.toString()}`;
      
      try {
        navigator.clipboard.writeText(shareUrl);
        if (window.ToolsMatic) window.ToolsMatic.showToast('Share link copied!', 'success');
      } catch {
        if (window.ToolsMatic) window.ToolsMatic.showToast('Copy failed', 'error');
      }
    });

    // Palette Management
    savePaletteBtn.addEventListener('click', () => {
      const name = prompt('Palette name:', `${fg.value} on ${bg.value}`);
      if (!name) return;
      
      const palettes = JSON.parse(localStorage.getItem('ccPalettes') || '[]');
      palettes.push({
        id: Date.now(),
        name: name,
        fg: fg.value,
        bg: bg.value,
        size: fontSize.value,
        weight: fontWeight.value
      });
      localStorage.setItem('ccPalettes', JSON.stringify(palettes));
      loadSavedPalettes();
      if (window.ToolsMatic) window.ToolsMatic.showToast('Palette saved!', 'success');
    });

    const loadSavedPalettes = () => {
      const palettes = JSON.parse(localStorage.getItem('ccPalettes') || '[]');
      savedPalettesBox.innerHTML = '';

      if (palettes.length === 0) {
        noSavedMsg.style.display = 'block';
        return;
      }

      noSavedMsg.style.display = 'none';
      palettes.forEach(p => {
        const card = document.createElement('div');
        card.className = 'history-item';

        const swatch = document.createElement('div');
        swatch.style.width = '42px';
        swatch.style.height = '32px';
        swatch.style.borderRadius = '8px';
        swatch.style.border = '1px solid var(--border)';
        swatch.style.background = `linear-gradient(135deg, ${p.fg}, ${p.bg})`;
        swatch.style.flexShrink = '0';
        swatch.style.cursor = 'pointer';
        swatch.addEventListener('click', () => {
          fg.value = p.fg;
          bg.value = p.bg;
          fontSize.value = p.size;
          fontWeight.value = p.weight;
          fgColorPicker.value = p.fg;
          bgColorPicker.value = p.bg;
          render();
        });

        const text = document.createElement('div');
        text.className = 'history-value';
        text.textContent = p.name;
        text.style.userSelect = 'none';

        const delBtn = document.createElement('button');
        delBtn.className = 'ghost';
        delBtn.textContent = 'üóëÔ∏è';
        delBtn.addEventListener('click', () => {
          const newPalettes = palettes.filter(x => x.id !== p.id);
          localStorage.setItem('ccPalettes', JSON.stringify(newPalettes));
          loadSavedPalettes();
        });

        card.appendChild(swatch);
        card.appendChild(text);
        card.appendChild(delBtn);
        savedPalettesBox.appendChild(card);
      });
    };

    // Vision mode buttons
    visionButtons.forEach(btn => {
      btn.addEventListener('click', () => {
        visionButtons.forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        currentVisionMode = btn.dataset.vision;
        
        if (currentVisionMode === 'normal') {
          colorblindPreviewContainer.style.display = 'none';
        } else {
          colorblindPreviewContainer.style.display = 'block';
        }
        
        render();
      });
    });

    // Load from URL params
    const params = new URLSearchParams(window.location.search);
    if (params.has('fg')) fg.value = params.get('fg');
    if (params.has('bg')) bg.value = params.get('bg');
    if (params.has('size')) fontSize.value = params.get('size');
    if (params.has('weight')) fontWeight.value = params.get('weight');

    fgColorPicker.value = fg.value;
    bgColorPicker.value = bg.value;

    // Initial render
    render();
  </script>
  <div style="text-align: center; margin: 24px 0;">
      </div>
  <div style="text-align: center; margin: 24px 0;">
      </div>
<div style="text-align: center; margin: 24px 0;">
</div>
<div style="text-align: center; margin: 24px 0;">
</div>
</body>
</html>


























